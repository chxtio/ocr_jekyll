---
title: "Software Setup (Merged)"
date: 2025-07-18
---

# Table of Contents

- [1.1 Recommended Directory Structure](#11-recommended-directory-structure)
- [1.2 Setting Up Git, GitHub, and SSH](#12-setting-up-git-github-and-ssh)
- [1.3 Create Initial Directory Structure](#13-create-initial-directory-structure)
- [1.4 OCR Docker](#14-ocr-docker)




# 1.1 Recommended Directory Structure

```
~/ocr/
│
├── dev_ws/
│   ├── build/
│   ├── install/
│   ├── log/
│   └── src/
│       └── differential_drive_robot/
│
├── ocr-docker/
│   ├── Dockerfile
│   ├── README.md
│   └── docker-compose.yml
│
└── training_ws/
       └── src/
```

# 1.2 Setting Up Git, GitHub, and SSH

## Install Git

### Installing on Windows

- Install [Git for Windows](https://gitforwindows.org/), which provides Git Bash (terminal emulator for running Git commands)
  
- Or, install using Windows Powershell~~
```bash
winget install --id Git.Git -e --source winget
```

- You can also install Linux for Windows via [WSL (Windows Subsystem for Linux)](https://learn.microsoft.com/en-us/windows/wsl/install)
  - Once setup, Git can be installed using the Linux package manager

### Installing on Linux
https://git-scm.com/book/en/v2/Getting-Started-Installing-Git
- Install Git
  ```bash
  sudo apt install git
  ```

## Configure Git
- Configure Git, replacing `"Your name"` and `"your.email@example.com"` with your info (including the quotes) to link your local Git profile with GitHub

  ```bash
  git config --global user.name "Your Name"
  git config --global user.email "your.email@example.com"
  ```

- Verify configuration
  
  ```bash
  git config --get user.name
  git config --get user.email
  # List all settings
  git config --list
  ```

## Basic Git Workflow Example
### Creating a local repository
- Create a local repository `myTest` and change the current working directory to `myTest`:
  
  ```bash
  mkdir myTest && cd myTest
  ```

- Initialize a `.git` subdirectory in the current working directory
  - Contains a hidden `.git` folder with subdirectories for objects, refs, and template files
  - A HEAD file is also created which will point to the currently checked out commit
  
  ```bash
  git init
  ```

  - If successful, you'll see a message like:

  ```
  Initialized empty Git repository in /home/user/Mytest/.git/
  ```

- Check the current state of the working directory and the staging area.
  - Shows which changes have been staged, which haven’t, and which files aren’t being tracked by Git.
  ```bash
  git status
  ```

- Create a README file to describe the repository:
  - We will use nano (`sudo apt install nano`), a simple, user-friendly text editor for the command line
  ```bash
  nano README.md
  # Add some text, example:
  This is a git repo
  # Save the file by pressing CTRL + X, then Y, then press Enter
  ```
- Optional: Create a `sample.c` file:

  ```c
  #include<stdio.h>
  int main()
  {
      printf("hello world");
      return 0;
  }
  ```

### Staging Files in the Git Index

- Create and add files to the index. 

  ```bash
  git add README.md
  git add sample.c
  ```
### Committing changes made to the index
- Commit the changes with a message:

  ```bash
  git commit -m "Initial commit"
  ```
##  Creating a repository on GitHub
- Create a repository on GitHub with the same name as your local repository (e.g., "Mytest").
![picture 0](https://i.imgur.com/6hpahg2.png)

- Connect your local repository to the GitHub repository (Replace `'user_name'` with your GitHub username):

*Using HTTPS:*
  ```bash
  git remote add origin https://github.com/user_name/Mytest.git
  ```
*Or using SSH (recommended if you have an [SSH key](#creating-an-ssh-key) set up):*
```bash
git remote add origin git@github.com:user_name/Mytest.git
```

## Pushing files from a local repository to a GitHub repository
- Push the local repository contents to GitHub
  - The first time running this command, you need to link the local `master` branch to the `master` branch on remote repository (`origin`)

```bash
git push -u origin master
# Can also use `git push --set-upstream origin master`

# Note: Some repositories may use 'main' as the default branch instead of 'master'.
# In that case, use the following command:
# git push --set-upstream origin main
```

  - For subsequent pushes
  ```bash
git push origin master

# Or if your default branch is 'main':
# git push origin main
  ```
  - You may get a `permission denied` error when pushing to GitHub if SSH keys aren't set properly (See [Creating an SSH Key](#creating-an-ssh-key))

- Enable colorful output with git

  ```bash
  git config --global color.ui auto
  ```
---
## Creating an SSH Key
[Create an SSH key](https://www.theodinproject.com/lessons/foundations-setting-up-git#step-23-create-an-ssh-key)
![ssh diagram](https://www.ssh.com/hubfs/Imported_Blog_Media/SSH_simplified_protocol_diagram-2.png)

An SSH key is a cryptographically secure identifier. It’s like a really long password used to identify your machine, which can be used by GitHub without having to type in your username and password every time.


- [Check for Existing SSH Keys](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/checking-for-existing-ssh-keys)
  - Check for the presence of Ed25519 algorithm SSH keys
  - An error indicates you do not have an existing SSH key pair in the default location.
  ```bash
  ls ~/.ssh/id_ed25519.pub
  ```
- [Generate a New SSH Key on Your Local Machine and Add it to the SSH Agent](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)
  - Run the following command in the terminal to create a new SSH key using your GitHub email as a label:
  ```bash
  ssh-keygen -t ed25519 -C "your.email@example.com"
  ```
  - When you're prompted to "Enter a file in which to save the key", you can press Enter to accept the default file location
  ```
  > Enter file in which to save the key (/c/Users/YOU/.ssh/id_ALGORITHM):[Press enter]
  ```
  ```
  > Generating public/private ed25519 key pair.
  ```

  - Show the SSH key and copy it to your clipboard:
  ```bash
  cat ~/.ssh/id_ed25519.pub
    ```

- **Link SSH Key with GitHub to enable authentication for Git operations over SSH**
    - In GitHub, navigate to [**Settings -> SSH and GPG keys -> New SSH Key**](https://github.com/settings/ssh/new): 
    - Name the key with a useful description of where it came from.
    - Use the output of `cat ~/.ssh/id_ed25519.pub` and paste it the Key section
    ![picture 2](https://i.imgur.com/gdfbJKj.png)  

    - Confirm that your SSH key is connected to your GitHub account
    ```bash
    ssh -T git@github.com
    ```
    - if successful, you should see:
    ```
    Hi username! You've successfully authenticated, but GitHub does not provide shell access.
    ```

# 1.3 Create Initial Directory Structure

*Preview*

```
~/ocr/
│
├── dev\_ws/
│   └── src/
│
├── ocr-docker/
│
└── training\_ws/
└── src/
```

1\. Create `ocr` folder and cd into it

```bash
mkdir ~/ocr && cd ~/ocr
```

2\. Create the `dev_ws` and `src` folder inside it (ROS packages will be installed in `src` later)

```bash
mkdir -p dev_ws/src
```

3\. Create `training_ws` folder and `src` folder inside it

```bash
mkdir -p training_ws/src
```

4\. Create `ocr-docker` folder

```bash
mkdir ocr-docker
```

5\. Verify that folders have been created inside `ocr`

```bash
ls
```

<!-- Expected output: -->

```output
dev_ws  ocr-docker  training_ws
```

# 1.4 OCR Docker

<div class="important">
  <strong>Important:</strong> If you have already installed the container, skip to 
  <a href="#step-2-run-the-docker-container">Step 2: Run the docker container</a>.
</div>
<br/>

<!-- > [!IMPORTANT]
> 
> If you have already installed the container, skip to [Step 2: Run the docker container](#step-2-run-the-docker-container). -->

## Step 1: Install the container

- Install and open [Docker Desktop](https://docs.docker.com/desktop/)

- Clone the repo and cd into it

```bash
cd ocr
git clone https://github.com/oc-robotics/ocr-docker.git
cd ocr-docker
```

- Make sure the volume is mounted correctly in `docker-compose.yml`
    - The default path assumes the following file structure

```
~/ocr/
│
├── dev_ws/
│   ├── build/
│   ├── install/
│   ├── log/
│   └── src/
│       └── differential_drive_robot/
│
├── ocr-docker/
│   ├── Dockerfile
│   ├── README.md
│   └── docker-compose.yml
│
└── training_ws/
```

- Pull the base image from Docker Hub

```bash
docker pull mwoodward6/nekton:humble
```
- Build the custom image

```bash
docker build -t ocr-docker:humble .
```

## Step 2: Run the docker container
- Start the container in the background (detached mode)

```bash
docker-compose up -d
```

- Open an interactive bash shell inside the container to run commands 

```bash
docker exec -it ocr-humble-nekton-og bash
```

- Browse [http://localhost:6080/](http://localhost:6080/) to access the remote desktop via VNC

<img src="https://ubuntu-mate.community/uploads/default/original/3X/e/5/e5b38828e447662a0035affe589d1f563d22984a.png" alt="novnc" width="300" />



- Stop the container

```bash
exit # Exit the interactive shell
docker-compose stop
```

- If you need to remove the container

```bash
docker-compose down
```

## Troubleshooting
<!-- ### Fix "ports not available" error -->

- If you encounter an error due to port 6080 being in use, check which processes are using it

```bash
sudo lsof -i :6080
```

- Sample output
  
```
COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
docker-pr  995 root    4u  IPv4  27629      0t0  TCP *:6080 (LISTEN)
docker-pr 1001 root    4u  IPv6  26542      0t0  TCP *:6080 (LISTEN)
```
- Stop the processes

```bash
sudo kill -9 995 1001
```
